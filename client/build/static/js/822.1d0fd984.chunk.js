"use strict";(self.webpackChunklearnsphere_client=self.webpackChunklearnsphere_client||[]).push([[822],{35822:(e,t,n)=>{n.r(t),n.d(t,{default:()=>I});var i=n(65043),r=n(73216),a=n(19252),l=n(63336),s=n(85865),o=n(39336),c=n(96446),d=n(67784),h=n(11906),x=n(81637),p=n(17392),u=n(43845),g=n(14194),j=n(68903),v=n(76839),A=n(25078),m=n(12299),y=n(64125),b=n(87332),f=n(42137),C=n(43817),w=n(83560),k=n(65584),P=n(29285),S=n(93821),E=n(10801),L=n(47503),W=n(97077),B=n(70579);const I=()=>{const{pathId:e}=(0,r.g)(),t=(0,r.Zp)(),{generateLearningPath:n,getContentById:I,saveContent:R,pathLoading:F}=(0,i.useContext)(W.A),[O,$]=(0,i.useState)(""),[z,N]=(0,i.useState)("intermediate"),[T,_]=(0,i.useState)(!1),[q,G]=(0,i.useState)(null),[H,D]=(0,i.useState)(0),[K,M]=(0,i.useState)([]);(0,i.useEffect)((()=>{(async()=>{if(e){_(!0);try{const r=await I(e);var t,n,i;if(r)G({content:r.content,title:r.title,level:(null===(t=r.metadata)||void 0===t?void 0:t.level)||"intermediate",topic:(null===(n=r.metadata)||void 0===n?void 0:n.topic)||"",citations:(null===(i=r.metadata)||void 0===i?void 0:i.citations)||[]}),Q(r.content)}catch(r){console.error("Error loading learning path:",r),L.oR.error("Failed to load learning path")}finally{_(!1)}}})()}),[e,I]);const Q=e=>{try{const t=e.split("\n"),n=[];let i=null;t.forEach((e=>{e.startsWith("## ")?(i&&n.push(i),i={label:e.replace("## ","").trim(),description:""}):i&&(i.description+=e+"\n")})),i&&n.push(i),M(n.length>0?n:[{label:"Overview",description:e}])}catch(t){console.error("Error parsing path content:",t),M([{label:"Overview",description:e}])}},U=()=>{D((e=>e+1))},Y=()=>{D((e=>e-1))};return(0,B.jsx)(a.A,{maxWidth:"lg",sx:{mt:4,mb:4},children:e||q?T?(0,B.jsx)(c.A,{sx:{display:"flex",justifyContent:"center",py:8},children:(0,B.jsx)(x.A,{})}):q?(0,B.jsxs)(c.A,{children:[(0,B.jsxs)(c.A,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,B.jsx)(h.A,{startIcon:(0,B.jsx)(b.A,{}),onClick:()=>t(-1),children:"Back"}),(0,B.jsxs)(c.A,{children:[(0,B.jsx)(p.A,{onClick:async()=>{if(q)try{await R(q.title,q.content,"learning_path",{topic:q.topic,level:q.level,citations:q.citations}),L.oR.success("Learning path saved to your collection")}catch(e){console.error("Error saving learning path:",e),L.oR.error("Failed to save learning path")}},title:"Save Path",children:(0,B.jsx)(f.A,{})}),(0,B.jsx)(p.A,{title:"Share Path",children:(0,B.jsx)(C.A,{})}),(0,B.jsx)(p.A,{title:"Edit Path",children:(0,B.jsx)(w.A,{})})]})]}),(0,B.jsxs)(l.A,{sx:{p:3,mb:4},children:[(0,B.jsx)(s.A,{variant:"h4",component:"h1",gutterBottom:!0,children:q.title}),(0,B.jsxs)(c.A,{sx:{display:"flex",gap:1,mb:2},children:[(0,B.jsx)(u.A,{label:q.level.charAt(0).toUpperCase()+q.level.slice(1),color:"primary",variant:"outlined"}),(0,B.jsx)(u.A,{label:`${K.length} sections`,color:"secondary",variant:"outlined"})]}),(0,B.jsxs)(g.A,{severity:"info",sx:{mb:3},children:["This learning path is designed to guide you through ",q.topic," in a structured way. Follow the steps in order for the best learning experience."]})]}),(0,B.jsxs)(j.Ay,{container:!0,spacing:3,children:[(0,B.jsx)(j.Ay,{item:!0,xs:12,md:4,children:(0,B.jsxs)(l.A,{sx:{p:2,position:"sticky",top:20},children:[(0,B.jsx)(s.A,{variant:"h6",gutterBottom:!0,children:"Path Overview"}),(0,B.jsx)(o.A,{sx:{mb:2}}),(0,B.jsx)(c.A,{sx:{maxHeight:"70vh",overflow:"auto"},children:K.map(((e,t)=>(0,B.jsx)(c.A,{sx:{p:1,mb:1,borderRadius:1,bgcolor:H===t?"primary.light":"transparent",cursor:"pointer"},onClick:()=>D(t),children:(0,B.jsxs)(s.A,{variant:"subtitle1",sx:{fontWeight:H===t?"bold":"normal",color:H===t?"white":"inherit"},children:[t+1,". ",e.label]})},t)))})]})}),(0,B.jsx)(j.Ay,{item:!0,xs:12,md:8,children:(0,B.jsxs)(l.A,{sx:{p:3},children:[(0,B.jsx)(v.A,{activeStep:H,orientation:"vertical",children:K.map(((e,t)=>(0,B.jsxs)(A.A,{children:[(0,B.jsx)(m.A,{children:(0,B.jsx)(s.A,{variant:"h6",children:e.label})}),(0,B.jsxs)(y.A,{children:[(0,B.jsx)(c.A,{sx:{mb:2},children:(0,B.jsx)(k.oz,{remarkPlugins:[P.A],components:{code(e){let{node:t,inline:n,className:i,children:r,...a}=e;const l=/language-(\w+)/.exec(i||"");return!n&&l?(0,B.jsx)(S.A,{style:E.A,language:l[1],PreTag:"div",...a,children:String(r).replace(/\n$/,"")}):(0,B.jsx)("code",{className:i,...a,children:r})}},children:e.description})}),(0,B.jsx)(c.A,{sx:{mb:2},children:(0,B.jsxs)("div",{children:[(0,B.jsx)(h.A,{variant:"contained",onClick:U,sx:{mt:1,mr:1},children:t===K.length-1?"Finish":"Continue"}),(0,B.jsx)(h.A,{disabled:0===t,onClick:Y,sx:{mt:1,mr:1},children:"Back"})]})})]})]},t)))}),H===K.length&&(0,B.jsxs)(l.A,{square:!0,elevation:0,sx:{p:3},children:[(0,B.jsx)(s.A,{children:"All steps completed - you've finished the learning path!"}),(0,B.jsx)(h.A,{onClick:()=>{D(0)},sx:{mt:1,mr:1},children:"Start Over"})]})]})})]})]}):(0,B.jsx)(s.A,{children:"No learning path found"}):(0,B.jsxs)(l.A,{sx:{p:3},children:[(0,B.jsx)(s.A,{variant:"h4",component:"h1",gutterBottom:!0,children:"Create Learning Path"}),(0,B.jsx)(s.A,{variant:"body1",paragraph:!0,children:"Generate a structured learning path for any topic based on your knowledge level"}),(0,B.jsx)(o.A,{sx:{mb:3}}),(0,B.jsxs)(c.A,{component:"form",onSubmit:async e=>{if(e.preventDefault(),O.trim()){_(!0);try{const e=await n(O);e&&(G({content:e.content,title:`Learning Path: ${O}`,level:z,topic:O,citations:e.citations||[]}),Q(e.content),e.pathId&&t(`/learning-path/${e.pathId}`,{replace:!0}))}catch(i){console.error("Error generating learning path:",i),L.oR.error("Failed to generate learning path")}finally{_(!1)}}else L.oR.error("Please enter a topic")},sx:{maxWidth:600,mx:"auto"},children:[(0,B.jsx)(d.A,{fullWidth:!0,label:"Topic",variant:"outlined",value:O,onChange:e=>$(e.target.value),placeholder:"Enter a topic (e.g., Machine Learning, World History, Quantum Physics)",required:!0,sx:{mb:3}}),(0,B.jsxs)(d.A,{select:!0,fullWidth:!0,label:"Your Knowledge Level",value:z,onChange:e=>N(e.target.value),SelectProps:{native:!0},sx:{mb:3},children:[(0,B.jsx)("option",{value:"beginner",children:"Beginner"}),(0,B.jsx)("option",{value:"intermediate",children:"Intermediate"}),(0,B.jsx)("option",{value:"advanced",children:"Advanced"})]}),(0,B.jsx)(h.A,{type:"submit",variant:"contained",color:"primary",size:"large",fullWidth:!0,disabled:T||F,sx:{py:1.5},children:T||F?(0,B.jsx)(x.A,{size:24,color:"inherit"}):"Generate Learning Path"})]})]})})}}}]);
//# sourceMappingURL=822.1d0fd984.chunk.js.map