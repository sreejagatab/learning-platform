"use strict";(self.webpackChunklearnsphere_client=self.webpackChunklearnsphere_client||[]).push([[864],{28864:(e,n,s)=>{s.r(n),s.d(n,{default:()=>Q});var t=s(65043),r=s(73216),l=s(19252),i=s(68903),a=s(63336),o=s(96446),c=s(85865),d=s(53193),h=s(79190),x=s(69285),u=s(32143),A=s(17392),p=s(39336),j=s(67784),m=s(11906),v=s(81637),g=s(90889),f=s(86605),b=s(40710),y=s(12110),C=s(26494),w=s(88446),k=s(66734),S=s(70579);const L=(0,k.A)((0,S.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"RefreshOutlined"),I=(0,k.A)((0,S.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send");var z=s(42137);const q=(0,k.A)((0,S.jsx)("path",{d:"M20 6h-8l-2-2H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2m-1 8h-3v3h-2v-3h-3v-2h3V9h2v3h3z"}),"CreateNewFolder");var R=s(58293),P=s(30416),V=s(65584),B=s(29285),M=s(93821),N=s(10801),W=s(47503),D=s(97077),H=s(30697);const Q=()=>{const{askQuestion:e,askFollowUpQuestion:n,clearSession:s,saveContent:k,generateLearningPath:Q,currentQuery:U,currentResponse:$,queryLoading:E,queryError:F,sessionMessages:_,followUpQuestions:G,citations:T,userLevel:Y,updateUserLevel:O}=(0,t.useContext)(D.A),{user:Z}=(0,t.useContext)(H.A),J=(0,r.Zp)(),[K,X]=(0,t.useState)(""),[ee,ne]=(0,t.useState)(""),[se,te]=(0,t.useState)(!1),[re,le]=(0,t.useState)(Y||"intermediate"),ie=(0,t.useRef)(null);(0,t.useEffect)((()=>{var e;null===(e=ie.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[_]),(0,t.useEffect)((()=>{O(re)}),[re,O]);return(0,S.jsx)(l.A,{maxWidth:"lg",sx:{mt:4,mb:4},children:(0,S.jsxs)(i.Ay,{container:!0,spacing:3,children:[(0,S.jsx)(i.Ay,{item:!0,xs:12,md:8,children:(0,S.jsxs)(a.A,{sx:{p:3,minHeight:"70vh",display:"flex",flexDirection:"column"},children:[(0,S.jsxs)(o.A,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[(0,S.jsx)(c.A,{variant:"h5",component:"h1",gutterBottom:!0,children:"Learn Anything"}),(0,S.jsxs)(o.A,{children:[(0,S.jsxs)(d.A,{variant:"outlined",size:"small",sx:{minWidth:150},children:[(0,S.jsx)(h.A,{id:"level-select-label",children:"Learning Level"}),(0,S.jsxs)(x.A,{labelId:"level-select-label",id:"level-select",value:re,onChange:e=>{le(e.target.value)},label:"Learning Level",children:[(0,S.jsx)(u.A,{value:"beginner",children:"Beginner"}),(0,S.jsx)(u.A,{value:"intermediate",children:"Intermediate"}),(0,S.jsx)(u.A,{value:"advanced",children:"Advanced"})]})]}),(0,S.jsx)(A.A,{color:"primary",onClick:()=>{s(),W.oR.info("Learning session cleared")},title:"Clear Session",sx:{ml:1},children:(0,S.jsx)(L,{})})]})]}),(0,S.jsx)(p.A,{sx:{mb:2}}),(0,S.jsxs)(o.A,{sx:{flexGrow:1,overflowY:"auto",mb:2},children:[0===_.length?(0,S.jsxs)(o.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"50vh",textAlign:"center"},children:[(0,S.jsx)(c.A,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"Ask any question to start learning"}),(0,S.jsx)(c.A,{variant:"body1",color:"text.secondary",children:"Get in-depth explanations with citations and follow-up questions"})]}):_.map(((e,n)=>(0,S.jsxs)(o.A,{sx:{mb:2,p:2,backgroundColor:"user"===e.role?"rgba(25, 118, 210, 0.05)":"white",borderRadius:2,maxWidth:"100%"},children:[(0,S.jsx)(c.A,{variant:"subtitle2",color:"text.secondary",children:"user"===e.role?"You":"LearnSphere"}),"user"===e.role?(0,S.jsx)(c.A,{variant:"body1",children:e.content}):(0,S.jsx)(o.A,{children:(0,S.jsx)(V.oz,{remarkPlugins:[B.A],components:{code(e){let{node:n,inline:s,className:t,children:r,...l}=e;const i=/language-(\w+)/.exec(t||"");return!s&&i?(0,S.jsx)(M.A,{style:N.A,language:i[1],PreTag:"div",...l,children:String(r).replace(/\n$/,"")}):(0,S.jsx)("code",{className:t,...l,children:r})}},children:e.content})})]},n))),(0,S.jsx)("div",{ref:ie})]}),(0,S.jsx)(o.A,{component:"form",onSubmit:async n=>{n.preventDefault(),K.trim()?(await e(K,{level:re}),X("")):W.oR.error("Please enter a question")},children:(0,S.jsx)(j.A,{fullWidth:!0,variant:"outlined",placeholder:"Ask anything about any topic...",value:K,onChange:e=>X(e.target.value),disabled:E,InputProps:{endAdornment:(0,S.jsx)(m.A,{variant:"contained",color:"primary",type:"submit",disabled:E||!K.trim(),sx:{ml:1},children:E?(0,S.jsx)(v.A,{size:24}):(0,S.jsx)(I,{})})}})})]})}),(0,S.jsxs)(i.Ay,{item:!0,xs:12,md:4,children:[(0,S.jsxs)(a.A,{sx:{p:2,mb:3},children:[(0,S.jsx)(c.A,{variant:"h6",gutterBottom:!0,children:"Follow-up Questions"}),(0,S.jsx)(p.A,{sx:{mb:2}}),G&&G.length>0?(0,S.jsx)(o.A,{sx:{display:"flex",flexDirection:"column",gap:1},children:G.map(((e,s)=>(0,S.jsx)(m.A,{variant:"outlined",color:"primary",size:"small",onClick:()=>(async e=>{ne(e),await n(e),ne("")})(e),disabled:E||ee===e,sx:{justifyContent:"flex-start",textTransform:"none"},children:e},s)))}):(0,S.jsx)(c.A,{variant:"body2",color:"text.secondary",children:$?"No follow-up questions available":"Ask a question to see follow-up suggestions"})]}),(0,S.jsxs)(a.A,{sx:{p:2,mb:3},children:[(0,S.jsx)(c.A,{variant:"h6",gutterBottom:!0,children:"Actions"}),(0,S.jsx)(p.A,{sx:{mb:2}}),(0,S.jsx)(m.A,{variant:"outlined",color:"primary",fullWidth:!0,startIcon:(0,S.jsx)(z.A,{}),onClick:async()=>{if(!$)return void W.oR.error("No content to save");const e=U.length>50?`${U.substring(0,50)}...`:U,n={query:U,citations:T,level:re};await k(e,$,"note",n)&&W.oR.success("Content saved to your notes")},disabled:!$,sx:{mb:2},children:"Save to Notes"}),(0,S.jsx)(m.A,{variant:"outlined",color:"secondary",fullWidth:!0,startIcon:(0,S.jsx)(q,{}),onClick:async()=>{if(!U)return void W.oR.error("Please ask a question first");const e=U.split(" ").length>3?U.split(" ").slice(0,3).join(" "):U,n=await Q(e);n&&n.pathId&&J(`/learning-path/${n.pathId}`)},disabled:!U,children:"Create Learning Path"})]}),T&&T.length>0&&(0,S.jsxs)(a.A,{sx:{p:2},children:[(0,S.jsx)(c.A,{variant:"h6",gutterBottom:!0,children:"Sources & Citations"}),(0,S.jsx)(p.A,{sx:{mb:2}}),(0,S.jsxs)(g.A,{expanded:se,onChange:()=>te(!se),children:[(0,S.jsx)(f.A,{expandIcon:(0,S.jsx)(R.A,{}),children:(0,S.jsxs)(c.A,{children:[T.length," ",1===T.length?"Source":"Sources"]})}),(0,S.jsx)(b.A,{children:(0,S.jsx)(o.A,{sx:{display:"flex",flexDirection:"column",gap:2},children:T.map(((e,n)=>(0,S.jsx)(y.A,{variant:"outlined",children:(0,S.jsxs)(C.A,{sx:{py:1,"&:last-child":{pb:1}},children:[(0,S.jsx)(c.A,{variant:"subtitle2",children:e.title||"Unknown Source"}),e.snippet&&(0,S.jsx)(c.A,{variant:"body2",color:"text.secondary",sx:{mt:1},children:e.snippet.length>150?`${e.snippet.substring(0,150)}...`:e.snippet}),e.url&&(0,S.jsxs)(w.A,{href:e.url,target:"_blank",rel:"noopener noreferrer",sx:{display:"flex",alignItems:"center",mt:1,fontSize:"0.875rem"},children:[(0,S.jsx)(P.A,{fontSize:"small",sx:{mr:.5}}),"Visit Source"]})]})},n)))})})]})]})]})]})})}},30416:(e,n,s)=>{s.d(n,{A:()=>l});var t=s(66734),r=s(70579);const l=(0,t.A)((0,r.jsx)("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"}),"Link")}}]);
//# sourceMappingURL=864.5aaea8d7.chunk.js.map